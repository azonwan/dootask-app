// { "framework": "Vue"} 
if("undefined"==typeof app&&(app=weex),void 0===eeuiLog)var eeuiLog={_:function(t,i){var e=i.map((function(t){return"[object object]"===Object.prototype.toString.call(t).toLowerCase()?JSON.stringify(t):t}));void 0===this.__m&&(this.__m=app.requireModule("debug")),this.__m.addLog(t,e)},debug:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];this._("debug",t)},log:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];this._("log",t)},info:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];this._("info",t)},warn:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];this._("warn",t)},error:function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];this._("error",t)}};!function(t){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(o,s,function(i){return t[i]}.bind(null,s));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=4)}([function(t,i){t.exports={mask:{position:"fixed",overflow:"hidden",backgroundColor:"#FFFFFF"},"render-views":{flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},"grid-item":{width:"350",height:"350",alignItems:"center"},"status-indicator":{position:"absolute",width:"20",height:"20",borderRadius:"10",bottom:"6",right:"6",backgroundColor:"#FFFFFF"},"sub-status-indicator":{width:"16",height:"16",borderRadius:"8",marginTop:"2",marginLeft:"2"},local:{width:"320",height:"320",borderRadius:"16",overflow:"hidden"},hidden:{marginTop:"15",marginLeft:"15",overflow:"hidden"},button:{marginLeft:"15",backgroundColor:"rgb(20,172,78)",paddingTop:"12",paddingRight:"32",paddingBottom:"12",paddingLeft:"32",borderRadius:"8"},switch:{marginTop:"850",marginLeft:"-420"},silence:{marginTop:"850",marginLeft:"0"},loudly:{marginTop:"850",marginLeft:"320"},shut:{marginLeft:"420"},hide:{marginTop:"1100",marginLeft:"100"},content:{fontSize:"40",color:"#808080"}}},function(t,i,e){"use strict";e.r(i);var o=app.requireModule("eeuiAgoro");app.requireModule("eeui");i.default={name:"meetings",data:function(){return{title:"",uuids:[],uuid:0,meetingid:0,mini:!1,showShow:!1,video:!1,audio:!1,infos:[],screenH:WXEnvironment.deviceHeight/WXEnvironment.deviceWidth*750,bottomPos:100,rightPos:0,isTouch:!1,startPosX:0,startPosY:0,bottomShow:!0,bottomColor:"white"}},computed:{videoStyle:function(){var t={};return this.mini?(t.width="182px",t.height="80px",t.right=this.rightPos+"px",t.bottom=this.bottomPos+"px",t.borderRadius="8px",t.borderWidth="2px",t.borderColor="#D9E2E9"):(t.top="0px",t.bottom="0px",t.right="0px",t.left="0px"),t}},methods:{initAgoro:function(t){var i=this;o.initialWithParam({id:t},(function(t){var e=t.uuid;if("joint"==t.action){for(var o=!0,s="",a=0;a<i.uuids.length;a++){i.uuids[a].uuid==e&&(o=!1)}i.infos.map((function(t){return t.uuid==i.uuids&&(s=t.avatar),t})),1==o&&(i.uuids.push({uuid:e,audio:!1,video:!1,videoStatus:0,audioStatus:0,avatar:s}),i.infoParam(e))}else"leave"==t.action&&(i.uuids=i.uuids.filter((function(t){return t.uuid!=e})))})),o.statusCallback((function(t){if(eeuiLog.info("statsParam:",t),"me"===t.uuid)"video"===t.type?(i.uuids[0]&&(i.uuids[0].video=1==t.status||2==t.status||3==t.status),i.uuids[0]&&(i.uuids[0].videoStatus=t.status)):(i.uuids[0]&&(i.uuids[0].audio=1==t.status||2==t.status||3==t.status),i.uuids[0]&&(i.uuids[0].audioStatus=t.status));else{var e=t.uuid;i.uuids=i.uuids.map((function(i){return i.uuid==e?"video"===t.type?(i.videoStatus=t.status,i.video=1==t.status||2==t.status||3==t.status,i):(i.audioStatus=t.status,i.audio=1==t.status||2==t.status||3==t.status,i):i}))}})),o.localStatusCallback((function(t){-1==t?(i.destroyed(),i.uuids=[]):5==t&&i.errorParam(i.uuid)}))},destroyed:function(){o.destroy(),this.showShow=!1,this.infos=[],this.uuids=[],this.title="";var t={act:"endMeeting",uuid:this.uuid+""};this.callbackParam(t)},exitAction:function(){o.leaveChannel(),this.showShow=!1},joint:function(t){var i=this;eeuiLog.info("joint:"),eeuiLog.info(t);var e=t.appid;this.initAgoro(e),this.video=t.video,this.audio=t.audio,setTimeout((function(){o.jointChanel(t,(function(e){i.uuid=e.uuid,i.meetingid=t.meetingid,i.title=t.name;i.infos.map((function(t){return t.uuid==i.uuid&&t.avatar,t})),i.uuids.push({uuid:i.uuid,audio:t.audio,video:t.video,videoStatus:0,audioStatus:0,avatar:t.avatar}),eeuiLog.info("afterjoint:"),eeuiLog.info(i.uuids),i.successParam(i.uuid),i.showShow=!0,i.mini=!1,t.video||o.enableVideo(t.video),o.enableAudio(t.audio)}))}),500)},zoomClick:function(){var t=this;this.isTouch||(this.mini=!1,this.bottomShow=!1,this.$nextTick((function(){t.bottomShow=!0})))},miniClick:function(){this.mini=!0,this.bottomPos<0&&(this.bottomPos=100),this.rightPos<0&&(this.rightPos=0)},videoEnable:function(){this.video=!this.video,o.enableVideo(this.video)},audioEnable:function(){this.audio=!this.audio,o.enableAudio(this.audio)},invent:function(){this.mini=!0;var t={act:"invent",meetingid:this.meetingid+""};this.callbackParam(t)},infoParam:function(t){var i={act:"getInfo",uuid:t+""};this.callbackParam(i)},successParam:function(t){var i={act:"success",uuid:t+""};this.callbackParam(i)},errorParam:function(t){var i={act:"error",uuid:t+""};this.callbackParam(i)},callbackParam:function(t){this.$emit("meetingEvent",t)},switchClicked:function(){o.switchCamera()},silenceClicked:function(t){},remoteSlicent:function(t){o.muteRemoteAudioStream(t.uuids,!t.mute)},remoteVideo:function(t){o.muteRemoteVideoStream(t.uuids,!t.mute)},loudlyClicked:function(){},shutClicked:function(){o.leaveChannel()},hideClicked:function(){this.miniClick()},load:function(t){var i=this,e=t.target.attr.uuid;e!==this.uuid?o.blindRemote(e):this.$nextTick((function(){o.blindLocal(i.uuid)}))},getStatus:function(t,i){var e={};return e.backgroundColor=t>2||i>2?"#f28500":"#00ff00",e},updateMeetingInfo:function(t){this.infos.push(t),this.updateUidInfo()},updateUidInfo:function(){var t=this;0!=this.infos.length&&(this.uuids=this.uuids.map((function(i){for(var e=0;e<t.infos.length;e++){var o=t.infos[e];o.uuid==i.uuid&&(i.username=o.username,i.avatar=o.avatar)}return i})))},touchstart:function(t){1==this.mini&&(this.startPosX=750-t.changedTouches[0].screenX-this.rightPos,this.startPosY=this.screenH-t.changedTouches[0].screenY-this.bottomPos)},touchAction:function(t){1==this.mini&&(this.isTouch=!0,this.rightPos=750-t.changedTouches[0].screenX-this.startPosX,this.bottomPos=this.screenH-t.changedTouches[0].screenY-this.startPosY)},touchend:function(){this.isTouch=!1,1==this.mini&&(this.startPosX=0,this.startPosY=0)}}}},function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.showShow?e("div",{staticClass:["mask"],style:t.videoStyle},[e("div",{staticStyle:{padding:"16px",flex:"1",backgroundColor:"white"}},[e("text",{staticStyle:{fontSize:"30px",padding:"16px"}},[t._v(t._s(t.title))]),e("div",{staticClass:["render-views"]},t._l(t.uuids,(function(i){return e("div",{staticClass:["grid-item"]},[e("div",{staticClass:["local","hidden"]},[e("eeuiAgoro-com",{ref:"local",refInFor:!0,staticClass:["local"],attrs:{uuid:i.uuid},on:{load:t.load}})],1),0==i.videoStatus?e("image",{staticStyle:{position:"absolute",top:"15px",left:"15px",right:"5px",bottom:"15px",borderRadius:"16px",flexDirection:"row",backgroundColor:"#00A77D"},attrs:{src:i.avatar}}):t._e(),e("div",{staticStyle:{position:"absolute",top:"16px",right:"10px",flexDirection:"row"}},[i.video?t._e():e("image",{staticStyle:{width:"40px",height:"40px",marginRight:"12px"},attrs:{src:"root://pages/assets/images/meeting_video_err.png"}}),i.audio?t._e():e("image",{staticStyle:{width:"40px",height:"40px",marginRight:"12px"},attrs:{src:"root://pages/assets/images/meeting_audio_err.png"}})]),e("div",{staticStyle:{position:"absolute",bottom:"0px",right:"0px",width:"80px",height:"80px",borderRadius:"40px",backgroundColor:"white",overflow:"hidden"}},[e("image",{staticStyle:{width:"70px",height:"70px",marginTop:"5px",marginLeft:"5px",borderRadius:"35px",backgroundColor:"greenyellow"},attrs:{src:i.avatar}})]),e("div",{staticClass:["status-indicator"]},[e("div",{staticClass:["sub-status-indicator"],style:t.getStatus(i.audioStatus,i.videoStatus)})])])}))),e("div",{staticStyle:{flex:"1"}}),e("div",{staticStyle:{position:"absolute",bottom:"0px",right:"0px",left:"0px",height:"80px"}},[e("div",{staticStyle:{flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between",backgroundColor:"white",marginLeft:"16px",marginRight:"16px"}},[e("div",{staticClass:["button"],on:{click:t.videoEnable}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.video?"root://pages/assets/images/meeting_video_on.png":"root://pages/assets/images/meeting_video_off.png"}})]),e("div",{staticClass:["button"],on:{click:t.audioEnable}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.audio?"root://pages/assets/images/meeting_audio_on.png":"root://pages/assets/images/meeting_audio_off.png"}})]),e("div",{staticClass:["button"],on:{click:t.switchClicked}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:"root://pages/assets/images/meeting_camera_reverse.png"}})]),e("div",{staticClass:["button"],on:{click:t.invent}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:"root://pages/assets/images/meeting_invent.png"}})]),e("div",{staticClass:["button"],on:{click:t.hideClicked}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:"root://pages/assets/images/meeting_mini.png"}})]),e("div",{staticClass:["button"],style:{backgroundColor:"#f28500"},on:{click:t.exitAction}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:"root://pages/assets/images/meeting_exit.png"}})])])]),t.mini?e("div",{staticStyle:{flexDirection:"row",position:"absolute",justifyContent:"right",backgroundColor:"white",top:"0",left:"0",right:"0",bottom:"0"},on:{click:function(i){t.zoomClick(!1)},touchstart:t.touchstart,touchmove:t.touchAction,touchend:t.touchend}},[e("div",{staticStyle:{padding:"12px",alignSelf:"center",marginLeft:"22px"}},[e("image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.video?"root://pages/assets/images/meeting_black_video_on.png":"root://pages/assets/images/meeting_black_video_off.png"}})]),e("div",{staticStyle:{padding:"12px",alignSelf:"center",marginLeft:"4px"}},[e("image",{staticStyle:{width:"40px",height:"40px",alignSelf:"center"},attrs:{src:t.audio?"root://pages/assets/images/meeting_black_audio_on.png":"root://pages/assets/images/meeting_black_audio_off.png"}})])]):t._e()])]):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},,function(t,i,e){var o,s,a=[];a.push(e(0)),o=e(1);var n=e(2);s=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(Object.keys(o).some((function(t){return"default"!==t&&"__esModule"!==t}))&&console.error("named exports are not supported in *.vue files."),s=o=o.default),"function"==typeof s&&(s=s.options),s.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/compoment/meetings.vue",s.render=n.render,s.staticRenderFns=n.staticRenderFns,s._scopeId="data-v-41e78e26",s.style=s.style||{},a.forEach((function(t){for(var i in t)s.style[i]=t[i]})),"function"==typeof __register_static_styles__&&__register_static_styles__(s._scopeId,a),t.exports=o,t.exports.el="true",new Vue(t.exports)}]);