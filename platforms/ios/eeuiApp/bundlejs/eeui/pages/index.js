// { "framework": "Vue"} 
if("undefined"==typeof app&&(app=weex),void 0===eeuiLog)var eeuiLog={_:function(e,t){var i=t.map((function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()?JSON.stringify(e):e}));void 0===this.__m&&(this.__m=app.requireModule("debug")),this.__m.addLog(e,i)},debug:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("debug",e)},log:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("log",e)},info:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("info",e)},warn:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("warn",e)},error:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("error",e)}};!function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports={"g-cover":{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)"},container:{alignSelf:"center"},confirmTitle:{backgroundColor:"#84c56a"},"flex-d-r":{flexDirection:"row"},flex:{flex:1},"justify-content-sb":{justifyContent:"space-between"},"justify-content-c":{justifyContent:"center"},"font-weight-300":{fontWeight:"300"},"color-black":{color:"#000000"},"color-white":{color:"#FFFFFF"},"font-size-26":{fontSize:"26"}}},function(e,t,i){"use strict";i.r(t),t.default={props:{pos:{type:String,default:"center"},offset:{type:Number,default:0},canOverlayClick:{type:Boolean,default:!0},themeName:{type:String,default:""},miniRate:{default:1}},data:function(){return{back:!1,show:!1,title:"",message:"",cancel:"",confirm:""}},computed:{posStyle:function(){var e={},t=this.pos?this.pos:"center";switch(e.position="absolute",e.width=this.scaleSize(700),e.padding=this.scaleSize(48),e.borderRadius=this.scaleSize(24),e.backgroundColor="dark"==this.themeName?"#2c2c32":"#f8f8f8",t){case"center":e.alignSelf="center";break;case"bottom":e.bottom=this.scaleSize(this.offset);break;case"top":e.top=this.scaleSize(this.offset)}return e},iconStyle:function(){return{width:this.scaleSize(50),height:this.scaleSize(50)}},hStyle:function(){return{justifyContent:"left",marginLeft:this.scaleSize(32)}},titleStyle:function(){return{fontSize:this.scaleSize(30),marginTop:this.scaleSize(4),color:"dark"==this.themeName?"white":"black"}},subTitleStyle:function(){return{fontSize:this.scaleSize(26),marginTop:this.scaleSize(32),color:"dark"==this.themeName?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"}},buttonGroupStyle:function(){return{marginTop:this.scaleSize(64)}},buttonBGStyle:function(){return{marginRight:this.scaleSize(64)}},confirmButtonStyle:function(){return{paddingLeft:this.scaleSize(32),paddingRight:this.scaleSize(32),paddingTop:this.scaleSize(12),paddingBottom:this.scaleSize(12),borderRadius:this.scaleSize(8)}},buttonTextStyle:function(){return{fontSize:this.scaleSize(26),color:"dark"==this.themeName?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"}},confirmTextStyle:function(){return{fontSize:this.scaleSize(26)}}},mounted:function(){this.show=!1},methods:{scaleSize:function(e){return e/this.miniRate+"px"},hide:function(){this.show=!1},cancelClick:function(){this.hide()},confirmClick:function(){this.hide(),this.$emit("exitConfirm")},showWithParam:function(e){this.title=e.title,this.message=e.message,this.cancel=e.cancel,this.confirm=e.confirm,this.show=!0}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:["g-cover"],on:{overlay:e.cancelClick}},[i("div",{staticClass:["container","flex-d-c"],style:e.posStyle},[i("div",{staticClass:["flex-d-r"]},[i("image",{style:e.iconStyle,attrs:{src:"root://pages/assets/images/alert-icon.png"}}),i("div",{style:e.hStyle},[i("text",{staticClass:["font-weight-300"],style:e.titleStyle},[e._v(e._s(e.title))]),i("text",{staticClass:["font-size-26","font-weight-300"],style:e.subTitleStyle},[e._v(e._s(e.message))])])]),i("div",{staticClass:["flex-d-r"]},[i("div",{staticClass:["flex"]}),i("div",{staticClass:["flex-d-r","justify-content-sb"],style:e.buttonGroupStyle},[i("div",{staticClass:["justify-content-c"],style:e.buttonBGStyle,on:{click:e.cancelClick}},[i("text",{staticClass:["font-weight-300"],style:e.buttonTextStyle},[e._v(e._s(e.cancel))])]),i("div",{staticClass:["confirmTitle"],style:e.confirmButtonStyle,on:{click:e.confirmClick}},[i("text",{staticClass:["font-weight-300","color-white"],style:e.confirmTextStyle},[e._v(e._s(e.confirm))])])])])])]):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,i){var s,o,n=[];n.push(i(0)),s=i(1);var a=i(2);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/work/src/pages/compoment/customAlert.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-07ed30b4",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s},function(e,t){e.exports={flex:{flex:1},mask:{position:"fixed",overflow:"hidden"},scroller:{position:"absolute",top:0,left:0,bottom:"80",right:0,paddingTop:"16",paddingRight:"16",paddingBottom:"16",paddingLeft:"16"},menu:{position:"absolute",flexDirection:"row",bottom:"16",right:0,left:0},"menu-buttons":{flexDirection:"row",justifyContent:"space-between"},"mini-box":{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",flexDirection:"row"},"render-views":{flexWrap:"wrap",flexDirection:"row"},"status-indicator":{position:"absolute",backgroundColor:"#FFFFFF"},local:{overflow:"hidden",backgroundColor:"#D3D3D3"},hidden:{overflow:"hidden"},button:{backgroundColor:"rgb(20,172,78)"},exit:{backgroundColor:"#f28500"}}},function(e,t,i){"use strict";i.r(t);var s=i(3),o=i.n(s),n=app.requireModule("dom"),a=app.requireModule("eeui"),r=app.requireModule("eeuiAgoro"),u=app.requireModule("eeuiDeviceInfo");t.default={name:"meetings",components:{CustomAlert:o.a},props:{windowWidth:{type:Number,default:0},themeName:{type:String,default:""},themeColor:{type:String,default:"#f8f8f8"}},data:function(){return{title:"",uuids:[],uuid:0,meetingid:0,mini:!1,showShow:!1,video:!1,audio:!1,infos:[],rightPos:0,bottomPos:-1,startPosX:0,startPosY:0,screenW:0,screenH:0,alertParams:{title:"",message:"",cancel:"",confirm:""},touchInfo:{move:!1,x:0,y:0}}},computed:{miniRate:function(){return Math.min(2,Math.max(1,this.windowWidth/430))},titleStyle:function(){return{fontSize:this.scaleSize(32),padding:this.scaleSize(16),color:"#f8f8f8"==this.themeColor?"black":"white"}},gridItemStyle:function(){return{width:this.scaleSize(350),height:this.scaleSize(350)}},localStyle:function(){return{width:this.scaleSize(320),height:this.scaleSize(320),marginTop:this.scaleSize(15),marginLeft:this.scaleSize(15),borderRadius:this.scaleSize(16)}},camaraStyle:function(){return{width:this.scaleSize(320),height:this.scaleSize(320),borderRadius:this.scaleSize(16)}},avatarStyle:function(){return{position:"absolute",top:this.scaleSize(15),left:this.scaleSize(15),right:this.scaleSize(15),bottom:this.scaleSize(15),borderRadius:this.scaleSize(16),flexDirection:"row",backgroundColor:this.themeColor}},videoButtonStyle:function(){return{position:"absolute",top:this.scaleSize(24),right:this.scaleSize(10),flexDirection:"row"}},videoSubStyle:function(){return{width:this.scaleSize(40),height:this.scaleSize(40),marginRight:this.scaleSize(12)}},subAvatarContainerStyle:function(){return{position:"absolute",bottom:"0",right:"0",width:this.scaleSize(80),height:this.scaleSize(80),borderRadius:this.scaleSize(40),backgroundColor:this.themeColor,overflow:"hidden"}},subAvatarStyle:function(){return{width:this.scaleSize(70),height:this.scaleSize(70),marginTop:this.scaleSize(5),marginLeft:this.scaleSize(5),borderRadius:this.scaleSize(35),backgroundColor:"greenyellow"}},indicatorStyle:function(){return{width:this.scaleSize(20),height:this.scaleSize(20),borderRadius:this.scaleSize(10),bottom:this.scaleSize(6),right:this.scaleSize(6)}},subButtonStyle:function(){return{marginLeft:this.scaleSize(16),marginRight:this.scaleSize(18)}},popMiniBoxStyle:function(){return{paddingLeft:this.scaleSize(12),backgroundColor:"#f8f8f8"==this.themeColor?"#A1A1A1":"#404040"}},popContainerStyle:function(){return{width:this.scaleSize(68),height:this.scaleSize(72),alignItems:"center",justifyContent:"center"}},popVideoStyle:function(){return{width:this.scaleSize(40),height:this.scaleSize(40)}},videoStyle:function(){var e={};return this.mini?(e.width=this.scaleSize(160),e.height=this.scaleSize(72),e.right=this.rightPos+"px",e.bottom=this.bottomPos+"px",e.borderRadius=this.scaleSize(12),e.overflow="hidden"):(e.top="0",e.bottom="0",e.right="0",e.left="0"),e.backgroundColor=this.themeColor,e},buttonPadding:function(){return{marginLeft:this.scaleSize(15),paddingTop:this.scaleSize(12),paddingBottom:this.scaleSize(12),paddingLeft:this.scaleSize(32),paddingRight:this.scaleSize(32),borderRadius:this.scaleSize(8)}},buttonSize:function(){return{width:this.scaleSize(40),height:this.scaleSize(40)}}},mounted:function(){},watch:{showShow:function(e){u.keepScreenOn(e)}},methods:{scaleSize:function(e){return e/this.miniRate+"px"},initAgoro:function(e){var t=this;r.initialWithParam({id:e},(function(e){var i=e.uuid;if("joint"==e.action){for(var s=!0,o="",n=0;n<t.uuids.length;n++){t.uuids[n].uuid==i&&(s=!1)}t.infos.map((function(e){return e.uuid==t.uuids&&(o=e.avatar),e})),1==s&&(t.uuids.push({uuid:i,audio:!1,video:!1,videoStatus:0,audioStatus:0,avatar:o}),t.uuid!==i&&t.infoParam(i))}else"leave"==e.action&&(t.uuids=t.uuids.filter((function(e){return e.uuid!=i})))})),r.statusCallback((function(e){if("me"===e.uuid)"video"===e.type?(t.uuids[0]&&(t.uuids[0].video=1==e.status||2==e.status||3==e.status),t.uuids[0]&&(t.uuids[0].videoStatus=e.status)):(t.uuids[0]&&(t.uuids[0].audio=1==e.status||2==e.status||3==e.status),t.uuids[0]&&(t.uuids[0].audioStatus=e.status));else{var i=e.uuid;t.uuids=t.uuids.map((function(t){return t.uuid==i?"video"===e.type?(t.videoStatus=e.status,t.video=1==e.status||2==e.status||3==e.status,t):(t.audioStatus=e.status,t.audio=1==e.status||2==e.status||3==e.status,t):t}))}})),r.localStatusCallback((function(e){-1==e?(t.destroyed(),t.uuids=[]):5==e&&t.errorParam(t.uuid)}))},destroyed:function(){r.destroy(),this.showShow=!1,this.infos=[],this.uuids=[],this.title="";var e={act:"endMeeting",uuid:this.uuid+""};this.callbackParam(e)},exitAction:function(){r.leaveChannel(),this.showShow=!1},joint:function(e){var t=this,i=e.appid;this.initAgoro(i),this.video=e.video,this.audio=e.audio,setTimeout((function(){r.jointChanel(e,(function(i){t.uuid=i.uuid,t.meetingid=e.meetingid,t.title=e.name,t.alertParams=e.alert,t.uuids.push({uuid:t.uuid,audio:e.audio,video:e.video,videoStatus:0,audioStatus:0,avatar:e.avatar}),t.showShow=!0,t.mini=!1,t.$nextTick((function(){t.successParam(t.uuid)})),e.video||r.enableVideo(e.video),r.enableAudio(e.audio)}))}),500)},miniClick:function(){var e=this;n.getComponentRect(this.$refs.root,(function(t){e.screenW=t.size.width,e.screenH=WXEnvironment.deviceHeight/WXEnvironment.deviceWidth*e.screenW,e.mini=!0,e.bottomPos<0&&(e.bottomPos=Math.round(e.screenH/1.5)),e.stickyMoving()}))},videoEnable:function(){this.video=!this.video,r.enableVideo(this.video)},audioEnable:function(){this.audio=!this.audio,r.enableAudio(this.audio)},inventClick:function(){this.miniClick(),this.callbackParam({act:"invent",meetingid:"".concat(this.meetingid)})},infoParam:function(e){var t={act:"getInfo",uuid:e+""};this.callbackParam(t)},successParam:function(e){var t={act:"success",uuid:e+""};this.callbackParam(t)},errorParam:function(e){var t={act:"error",uuid:e+""};this.callbackParam(t)},callbackParam:function(e){this.$emit("meetingEvent",e)},switchClicked:function(){r.switchCamera()},hideClicked:function(){this.miniClick()},exitClick:function(){this.$refs.alert.showWithParam(this.alertParams)},load:function(e){var t=this,i=e.target.attr.uuid;i!==this.uuid?r.blindRemote(i):this.$nextTick((function(){r.blindLocal(t.uuid)}))},getStatus:function(e,t){var i={};return i.width=this.scaleSize(16),i.height=this.scaleSize(16),i.borderRadius=this.scaleSize(8),i.marginTop=this.scaleSize(2),i.marginLeft=this.scaleSize(2),i.backgroundColor=e>2||t>2?"#ff9900":"#84C56A",i},updateMeetingInfo:function(e){this.infos.push(e),this.updateUidInfo()},updateUidInfo:function(){var e=this;0!=this.infos.length&&(this.uuids=this.uuids.map((function(t){for(var i=0;i<e.infos.length;i++){var s=e.infos[i];s.uuid==t.uuid&&(t.username=s.username,t.avatar=s.avatar)}return t})))},touchstart:function(e){this.touchInfo={move:!1,x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY},1==this.mini&&(this.startPosX=this.screenW-e.changedTouches[0].screenX-this.rightPos,this.startPosY=this.screenH-e.changedTouches[0].screenY-this.bottomPos)},touchAction:function(e){1==this.mini&&(this.rightPos=this.screenW-e.changedTouches[0].screenX-this.startPosX,this.bottomPos=this.screenH-e.changedTouches[0].screenY-this.startPosY,(Math.abs(this.touchInfo.x-e.changedTouches[0].screenX)>10||Math.abs(this.touchInfo.y-e.changedTouches[0].screenY)>10)&&(this.touchInfo.move=!0))},touchend:function(){1==this.mini&&(this.startPosX=0,this.startPosY=0,this.stickyMoving(),0==this.touchInfo.move&&(this.mini=!1,a.keyboardHide()))},stickyMoving:function(){var e=0,t=160/this.miniRate,i=(this.screenW-t)/2;this.rightPos>i&&(e=this.screenW-t),this.rightPos=e}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showShow?i("div",{ref:"root",staticClass:["mask"],style:e.videoStyle},[i("scroller",{staticClass:["scroller"]},[i("text",{style:e.titleStyle},[e._v(e._s(e.title))]),i("div",{staticClass:["render-views"]},e._l(e.uuids,(function(t){return i("div",{style:e.gridItemStyle},[i("div",{staticClass:["local","hidden"],style:e.localStyle},[i("eeuiAgoroCom",{ref:"local",refInFor:!0,staticClass:["local"],style:e.camaraStyle,attrs:{uuid:t.uuid},on:{load:e.load}})],1),0==t.videoStatus?i("image",{style:e.avatarStyle,attrs:{src:t.avatar}}):e._e(),i("div",{style:e.videoButtonStyle},[t.audio?e._e():i("image",{style:e.videoSubStyle,attrs:{src:"root://pages/assets/images/meeting_audio_err.png"}}),t.video?e._e():i("image",{style:e.videoSubStyle,attrs:{src:"root://pages/assets/images/meeting_video_err.png"}})]),i("div",{style:e.subAvatarContainerStyle},[i("image",{style:e.subAvatarStyle,attrs:{src:t.avatar}})]),i("div",{staticClass:["status-indicator"],style:e.indicatorStyle},[i("div",{style:e.getStatus(t.audioStatus,t.videoStatus)})])])})))]),i("div",{staticClass:["menu"]},[i("div",{staticClass:["flex"]}),i("div",{staticClass:["menu-buttons"],style:e.subButtonStyle},[i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.audioEnable}},[i("image",{style:e.buttonSize,attrs:{src:e.audio?"root://pages/assets/images/meeting_audio_on.png":"root://pages/assets/images/meeting_audio_off.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.videoEnable}},[i("image",{style:e.buttonSize,attrs:{src:e.video?"root://pages/assets/images/meeting_video_on.png":"root://pages/assets/images/meeting_video_off.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.switchClicked}},[i("image",{style:e.buttonSize,attrs:{src:e.video?"root://pages/assets/images/meeting_camera_reverse.png":"root://pages/assets/images/meeting_camera_reverse_off.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.inventClick}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_invent.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.hideClicked}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_mini.png"}})]),i("div",{staticClass:["exit"],style:e.buttonPadding,on:{click:e.exitClick}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_exit.png"}})])])]),e.mini?i("div",{staticClass:["mini-box"],style:e.popMiniBoxStyle,on:{touchstart:e.touchstart,touchmove:e.touchAction,touchend:e.touchend}},[i("div",{style:e.popContainerStyle},[i("image",{style:e.popVideoStyle,attrs:{src:e.audio?"root://pages/assets/images/meeting_white_audio_on.png":"root://pages/assets/images/meeting_white_audio_off.png"}})]),i("div",{style:e.popContainerStyle},[i("image",{style:e.popVideoStyle,attrs:{src:e.video?"root://pages/assets/images/meeting_white_video_on.png":"root://pages/assets/images/meeting_white_video_off.png"}})])]):e._e(),i("custom-alert",{ref:"alert",attrs:{miniRate:e.miniRate,themeName:e.themeName,pos:"top",offset:80},on:{exitConfirm:e.exitAction}})],1):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,i){var s,o,n=[];n.push(i(4)),s=i(5);var a=i(6);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/work/src/pages/compoment/meetings.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-41e78e26",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s},,,function(e,t,i){var s,o,n=[];n.push(i(11)),s=i(12);var a=i(13);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/work/src/pages/index.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-57509004",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s,e.exports.el="true",new Vue(e.exports)},function(e,t){e.exports={flex:{flex:1}}},function(e,t,i){"use strict";i.r(t);var s=i(7),o=i.n(s),n=app.requireModule("eeui"),a=app.requireModule("eeuiDeviceInfo"),r=app.requireModule("eeuiUmengPush"),u=app.requireModule("eeuiCommunication"),c=app.requireModule("eeuiNotifications"),l=app.requireModule("eeuiPicture"),d=app.requireModule("eeuiShareFiles");t.default={components:{Meetings:o.a},data:function(){return{webReady:!1,uniqueId:"",resumeNum:0,appMessage:{},windowWidth:parseInt(n.getVariate("windowWidth","0"))||430,umengInit:!1,umengApiUrl:null,umengError:!1,navColor:null,themeName:"",themeColor:null,systemTheme:n.getThemeName(),appGroupID:"group.im.dootask",appSubPath:"share"}},appActive:function(){this.$refs.web.setJavaScript('if (typeof window.__onAppActive === "function"){window.__onAppActive()}')},appDeactive:function(){this.$refs.web.setJavaScript('if (typeof window.__onAppDeactive === "function"){window.__onAppDeactive()}')},pageResume:function(){var e='if (typeof window.__onPageResume === "function"){window.__onPageResume('.concat(this.resumeNum,")}");this.$refs.web.setJavaScript(e),this.resumeNum++,this.refreshNotificationPermission(),this.umengError&&this.updateUmengAlias()},pagePause:function(){this.$refs.web.setJavaScript('if (typeof window.__onPagePause === "function"){window.__onPagePause()}')},pageMessage:function(e){var t=this,i=e.message;switch(i.messageType){case"notificationClick":break;case"keyboardStatus":var s=encodeURIComponent(this.jsonStringify(i)),o='if (typeof window.__onKeyboardStatus === "function"){window.__onKeyboardStatus("'.concat(s,'")}');this.$refs.web.setJavaScript(o);break;case"link":this.webReady?this.linkEvent(i.jumpUrl):setTimeout((function(){t.linkEvent(i.jumpUrl)}),2e3)}},mounted:function(){this.initTheme(null),"ios"===WXEnvironment.platform.toLowerCase()&&d.shareFileWithGroupID(this.appGroupID,this.appSubPath),this.uniqueId=n.getCachesString("appUniqueId",""),this.count(this.uniqueId)<5&&(this.uniqueId=this.randomString(6),n.setCachesString("appUniqueId",this.uniqueId,0)),this.$refs.web.setUrl(n.rewriteUrl("../public/index.html"))},computed:{warpStyle:function(){return this.themeColor?{backgroundColor:this.themeColor}:{}}},methods:{initTheme:function(e){e?n.setCachesString("themeName",e,0):e=n.getCachesString("themeName",""),["light","dark"].includes(e)||(e=this.systemTheme),this.themeName=e,this.themeColor="dark"===e?"#131313":"#f8f8f8",this.navColor="dark"===e?"#cdcdcd":"#232323",n.setStatusBarStyle("dark"===e),n.setStatusBarColor(this.themeColor),n.setBackgroundColor(this.themeColor)},onReceiveMessage:function(e){var t=e.message;switch(t.action){case"initApp":this.appMessage=t,this.umengInit||(this.umengInit=!0,r.initialize());break;case"setUmengAlias":this.umengApiUrl=t.url,this.webReady=!0,this.updateUmengAlias();break;case"setVibrate":var i=parseInt(t.time)||0;i>0?a.setVibrate(i):a.setVibrate();break;case"getNotificationPermission":this.refreshNotificationPermission();break;case"setBdageNotify":c.setBadge(parseInt(t.bdage)||0);break;case"gotoSetting":c.gotoSet();break;case"callTel":u.call(t.tel);break;case"picturePreview":l.picturePreview(t.position,t.paths);break;case"videoPreview":l.videoPreview(t.path);break;case"userChatList":"ios"===WXEnvironment.platform.toLowerCase()?d.setShareStorage("chatList",t.url):n.setCaches("chatList",t.url,0);break;case"userUploadUrl":"ios"===WXEnvironment.platform.toLowerCase()?(d.setShareStorage("upLoadUrl",t.chatUrl),d.setShareStorage("fileUpLoadUrl",t.dirUrl)):(n.setCaches("upLoadUrl",t.chatUrl,0),n.setCaches("fileUpLoadUrl",t.dirUrl,0));break;case"startMeeting":this.$refs.meeting&&this.$refs.meeting.joint(t.meetingParams);break;case"updateMeetingInfo":this.$refs.meeting&&this.$refs.meeting.updateMeetingInfo(t.infos);break;case"updateTheme":this.initTheme(t.themeName);break;case"windowSize":this.windowWidth=parseInt(t.width)||0,n.setVariate("windowWidth",this.windowWidth)}},onStateChanged:function(e){var t=e.status,i=e.url;switch(t){case"createTarget":var s='if (typeof window.__onCreateTarget === "function"){window.__onCreateTarget("'.concat(i,'")}');this.$refs.web.setJavaScript(s)}},updateUmengAlias:function(){var e=this,t="".concat(WXEnvironment.platform,"-").concat(this.appMessage.userid,"-").concat(this.uniqueId);r.deleteAlias(t,"userid",(function(){r.addAlias(t,"userid",(function(i){"success"===i.status?n.ajax({url:e.umengApiUrl,method:"get",data:{alias:t,osName:WXEnvironment.osName,osVersion:WXEnvironment.osVersion,deviceModel:WXEnvironment.deviceModel,userAgent:e.appMessage.userAgent},headers:{token:e.appMessage.token}},(function(e){eeuiLog.log(e)})):eeuiLog.log("[UmengAlias] add error"),e.umengError="success"!==i.status}))}))},refreshNotificationPermission:function(){var e=this;c.getPermissionStatus((function(t){var i='if (typeof window.__onNotificationPermissionStatus === "function"){window.__onNotificationPermissionStatus('.concat(t,")}");e.$refs.web.setJavaScript(i)}))},meetingEvent:function(e){if("invent"!=e.act){var t='if (typeof window.__onMeetingEvent === "function"){window.__onMeetingEvent({"uuid":"'.concat(e.uuid,'","act":"').concat(e.act,'"})}');this.$refs.web.setJavaScript(t)}else this.inventEvent(e)},inventEvent:function(e){var t='if (typeof window.__onMeetingEvent === "function"){window.__onMeetingEvent({"meetingid":"'.concat(e.meetingid,'","act":"').concat(e.act,'"})}');this.$refs.web.setJavaScript(t)},linkEvent:function(e){var t='if (typeof window.__handleLink === "function"){window.__handleLink("'.concat(e,'")}');this.$refs.web.setJavaScript(t)}}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:["flex"],style:this.warpStyle},[t("web-view",{ref:"web",staticClass:["flex"],attrs:{hiddenDone:!0,transparency:!0,progressbarVisibility:!1,allowFileAccessFromFileURLs:!0},on:{receiveMessage:this.onReceiveMessage,stateChanged:this.onStateChanged}}),t("meetings",{ref:"meeting",attrs:{themeColor:this.themeColor,themeName:this.themeName,windowWidth:this.windowWidth},on:{meetingEvent:this.meetingEvent}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}]);