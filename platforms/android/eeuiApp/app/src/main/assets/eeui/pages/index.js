// { "framework": "Vue"} 
if("undefined"==typeof app&&(app=weex),void 0===eeuiLog)var eeuiLog={_:function(e,t){var i=t.map((function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()?JSON.stringify(e):e}));void 0===this.__m&&(this.__m=app.requireModule("debug")),this.__m.addLog(e,i)},debug:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("debug",e)},log:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("log",e)},info:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("info",e)},warn:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("warn",e)},error:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];this._("error",e)}};!function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports={"g-cover":{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)"},container:{backgroundColor:"#FFFFFF",borderRadius:"16",alignSelf:"center"},confirmTitle:{paddingTop:"16",paddingRight:"32",paddingBottom:"16",paddingLeft:"32",backgroundColor:"#84c56a",borderRadius:"8"}}},function(e,t,i){"use strict";i.r(t),t.default={props:{pos:{type:String,default:"center"},offset:{type:Number,default:0},canOverlayClick:{type:Boolean,default:!0},miniRate:{default:1}},data:function(){return{back:!1,show:!1,title:"",message:"",cancel:"",confirm:""}},computed:{posStyle:function(){var e={},t=this.pos?this.pos:"center";switch(e.position="absolute",e.width=this.scaleSize(718),e.padding=this.scaleSize(48),e.marginLeft=this.scaleSize(16),t){case"center":e.alignSelf="center";break;case"bottom":e.bottom=this.offset+"px";case"top":e.top=this.offset+"px"}return e},gStyle:function(){var e={},t=this.pos?this.pos:"center";switch(e.width=this.scaleSize(718),t){case"center":e.justifyContent="center"}return e}},mounted:function(){this.show=!1},methods:{scaleSize:function(e){return this.miniRate*e+"px"},hide:function(){this.show=!1},cancelClick:function(){this.hide()},confirmClick:function(){this.hide(),this.$emit("exitConfirm")},showWithParam:function(e){this.title=e.title,this.message=e.message,this.cancel=e.cancel,this.confirm=e.confirm,this.show=!0}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("div",{staticClass:["g-cover"],on:{overlay:e.cancelClick}},[i("div",{staticClass:["container","flex-d-c"],style:e.posStyle},[i("div",{staticStyle:{flexDirection:"row"}},[i("image",{style:{width:e.scaleSize(50),height:e.scaleSize(50)},attrs:{src:"root://pages/assets/images/alert-icon.png"}}),i("div",{style:{justifyContent:"left",marginLeft:e.scaleSize(32)}},[i("text",{staticStyle:{fontWeight:"300",color:"black"},style:{fontSize:e.scaleSize(30),marginTop:e.scaleSize(4)}},[e._v(e._s(e.title))]),i("text",{staticStyle:{fontSize:"26px",fontWeight:"300",color:"black"},style:{fontSize:e.scaleSize(26),marginTop:e.scaleSize(32)}},[e._v(e._s(e.message))])])]),i("div",{staticStyle:{flexDirection:"row"}},[i("div",{staticStyle:{flex:"1"}}),i("div",{staticStyle:{flexDirection:"row",justifyContent:"space-between"},style:{marginTop:e.scaleSize(64)}},[i("div",{staticClass:["cancelTitle"],staticStyle:{justifyContent:"center"},style:{marginRight:e.scaleSize(64)},on:{click:e.cancelClick}},[i("text",{staticStyle:{fontWeight:"300",color:"black"},style:{fontSize:e.scaleSize(26)}},[e._v(e._s(e.cancel))])]),i("div",{staticClass:["confirmTitle"],style:{paddingLeft:e.scaleSize(32),paddingRight:e.scaleSize(32),paddingTop:e.scaleSize(12),paddingBottom:e.scaleSize(12)},on:{click:e.confirmClick}},[i("text",{staticStyle:{fontWeight:"300",color:"white"},style:{fontSize:e.scaleSize(26)}},[e._v(e._s(e.confirm))])])])])])]):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,i){var s,o,n=[];n.push(i(0)),s=i(1);var a=i(2);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/compoment/customAlert.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-07ed30b4",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s},function(e,t){e.exports={mask:{position:"fixed",overflow:"hidden",backgroundColor:"#FFFFFF"},"render-views":{flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},"grid-item":{alignItems:"center"},"status-indicator":{position:"absolute",backgroundColor:"#FFFFFF"},"sub-status-indicator":{width:"16",height:"16",borderRadius:"8",marginTop:"2",marginLeft:"2"},local:{overflow:"hidden",backgroundColor:"#D3D3D3"},hidden:{marginTop:"15",marginLeft:"15",overflow:"hidden"},button:{backgroundColor:"rgb(20,172,78)",borderRadius:"8"},exit:{backgroundColor:"#f28500",borderRadius:"8"},switch:{marginTop:"850",marginLeft:"-420"},silence:{marginTop:"850",marginLeft:"0"},loudly:{marginTop:"850",marginLeft:"320"},shut:{marginLeft:"420"},hide:{marginTop:"1100",marginLeft:"100"},content:{fontSize:"40",color:"#808080"}}},function(e,t,i){"use strict";i.r(t);var s=i(3),o=i.n(s),n=app.requireModule("eeuiAgoro"),a=(app.requireModule("eeui"),app.requireModule("animation")),r=app.requireModule("eeuiDeviceInfo");t.default={name:"meetings",components:{CustomAlert:o.a},data:function(){return{title:"",uuids:[],uuid:0,meetingid:0,mini:!1,showShow:!1,video:!1,audio:!1,infos:[],screenH:WXEnvironment.deviceHeight/WXEnvironment.deviceWidth*750,screenW:750,bottomPos:100,rightPos:0,isTouch:!1,startPosX:0,startPosY:0,bottomShow:!0,bottomColor:"white",alertParams:{title:"",message:"",cancel:"",confirm:""},miniRate:1,exitAlert:!1,isAndroid:!1}},computed:{videoStyle:function(){var e={};return this.mini?(e.width=this.scaleSize(182),e.height=this.scaleSize(80),e.right=this.rightPos+"px",e.bottom=this.bottomPos+"px",e.borderRadius=this.scaleSize(8),e.borderWidth="1px",e.borderColor="#D9E2E9"):(e.top="0px",e.bottom="0px",e.right="0px",e.left="0px"),e},styleChange:function(e){return e},buttonPadding:function(){return{marginLeft:this.scaleSize(15),paddingTop:this.scaleSize(12),paddingBottom:this.scaleSize(12),paddingLeft:this.scaleSize(32),paddingRight:this.scaleSize(32)}},buttonSize:function(){return{width:this.scaleSize(40),height:this.scaleSize(40)}}},mounted:function(){eeuiLog.info(WXEnvironment.deviceHeight),eeuiLog.info(this.screenH),this.isAndroid="android"==WXEnvironment.platform.toLowerCase();var e=WXEnvironment.deviceHeight,t=WXEnvironment.deviceWidth,i=t/750;if(t>e){var s=e/750;this.screenW=t/s}eeuiLog.info(i);var o=1.92/i;o<1&&(this.miniRate=o),eeuiLog.info(o)},methods:{scaleSize:function(e){return this.miniRate*e+"px"},initAgoro:function(e){var t=this;n.initialWithParam({id:e},(function(e){var i=e.uuid;if("joint"==e.action){for(var s=!0,o="",n=0;n<t.uuids.length;n++){t.uuids[n].uuid==i&&(s=!1)}t.infos.map((function(e){return e.uuid==t.uuids&&(o=e.avatar),e})),1==s&&(t.uuids.push({uuid:i,audio:!1,video:!1,videoStatus:0,audioStatus:0,avatar:o}),t.uuid!==i&&t.infoParam(i))}else"leave"==e.action&&(t.uuids=t.uuids.filter((function(e){return e.uuid!=i})))})),n.statusCallback((function(e){if(eeuiLog.info("statsParam:",e),"me"===e.uuid)"video"===e.type?(t.uuids[0]&&(t.uuids[0].video=1==e.status||2==e.status||3==e.status),t.uuids[0]&&(t.uuids[0].videoStatus=e.status)):(t.uuids[0]&&(t.uuids[0].audio=1==e.status||2==e.status||3==e.status),t.uuids[0]&&(t.uuids[0].audioStatus=e.status));else{var i=e.uuid;t.uuids=t.uuids.map((function(t){return t.uuid==i?"video"===e.type?(t.videoStatus=e.status,t.video=1==e.status||2==e.status||3==e.status,t):(t.audioStatus=e.status,t.audio=1==e.status||2==e.status||3==e.status,t):t}))}})),n.localStatusCallback((function(e){-1==e?(t.destroyed(),t.uuids=[]):5==e&&t.errorParam(t.uuid)}))},destroyed:function(){n.destroy(),r.keepScreenOn(!1),this.showShow=!1,this.infos=[],this.uuids=[],this.title="";var e={act:"endMeeting",uuid:this.uuid+""};this.callbackParam(e)},exitAction:function(){n.leaveChannel(),this.showShow=!1},joint:function(e){var t=this;eeuiLog.info("joint:"),eeuiLog.info(e);var i=e.appid;this.initAgoro(i),this.video=e.video,this.audio=e.audio,setTimeout((function(){n.jointChanel(e,(function(i){t.uuid=i.uuid,t.meetingid=e.meetingid,t.title=e.name,t.alertParams=e.alert;t.infos.map((function(e){return e.uuid==t.uuid&&e.avatar,e})),t.uuids.push({uuid:t.uuid,audio:e.audio,video:e.video,videoStatus:0,audioStatus:0,avatar:e.avatar}),eeuiLog.info("afterjoint:"),eeuiLog.info(t.uuids),t.showShow=!0,t.mini=!1,r.keepScreenOn(!0),t.$nextTick((function(){t.successParam(t.uuid)})),e.video||n.enableVideo(e.video),n.enableAudio(e.audio)}))}),500)},zoomClick:function(){var e=this;!0!==this.isTouch&&(this.mini=!1,this.bottomShow=!1,this.$nextTick((function(){e.bottomShow=!0})))},miniClick:function(){this.mini=!0,this.bottomPos<0&&(this.bottomPos=100),this.rightPos<0&&(this.rightPos=0)},videoEnable:function(){this.video=!this.video,n.enableVideo(this.video)},audioEnable:function(){this.audio=!this.audio,n.enableAudio(this.audio)},invent:function(){this.mini=!0;var e={act:"invent",meetingid:this.meetingid+""};this.callbackParam(e)},infoParam:function(e){var t={act:"getInfo",uuid:e+""};this.callbackParam(t)},successParam:function(e){var t={act:"success",uuid:e+""};this.callbackParam(t)},errorParam:function(e){var t={act:"error",uuid:e+""};this.callbackParam(t)},callbackParam:function(e){this.$emit("meetingEvent",e)},switchClicked:function(){n.switchCamera()},silenceClicked:function(e){},remoteSlicent:function(e){n.muteRemoteAudioStream(e.uuids,!e.mute)},remoteVideo:function(e){n.muteRemoteVideoStream(e.uuids,!e.mute)},loudlyClicked:function(){},shutClicked:function(){n.leaveChannel()},hideClicked:function(){this.miniClick()},exitClick:function(){this.$refs.alert.showWithParam(this.alertParams)},load:function(e){var t=this,i=e.target.attr.uuid;i!==this.uuid?n.blindRemote(i):this.$nextTick((function(){n.blindLocal(t.uuid)}))},getStatus:function(e,t){var i={};return i.width=this.scaleSize(16),i.height=this.scaleSize(16),i.borderRadius=this.scaleSize(8),i.marginTop=this.scaleSize(2),i.marginLeft=this.scaleSize(2),i.backgroundColor=e>2||t>2?"#f28500":"#00ff00",i},updateMeetingInfo:function(e){this.infos.push(e),this.updateUidInfo()},updateUidInfo:function(){var e=this;0!=this.infos.length&&(this.uuids=this.uuids.map((function(t){for(var i=0;i<e.infos.length;i++){var s=e.infos[i];s.uuid==t.uuid&&(t.username=s.username,t.avatar=s.avatar)}return t})))},touchstart:function(e){this.isTouch=!0,1==this.mini&&(this.startPosX=this.screenW-e.changedTouches[0].screenX-this.rightPos,this.startPosY=this.screenH-e.changedTouches[0].screenY-this.bottomPos)},touchAction:function(e){1==this.mini&&(this.isTouch=!0,this.rightPos=this.screenW-e.changedTouches[0].screenX-this.startPosX,this.bottomPos=this.screenH-e.changedTouches[0].screenY-this.startPosY)},touchend:function(){this.isTouch=!1,1==this.mini&&(this.startPosX=0,this.startPosY=0,this.stickyMoving())},stickyMoving:function(){var e=this,t=0,i=284;this.miniRate<1&&(i+=(this.screenW-750)/2);this.rightPos>i&&(t=this.screenW-182*this.miniRate),eeuiLog.info(this.screenW),a.transition(this.$refs.root,{styles:{translateX:t+"px"},duration:400,timingFunction:"linear",needLayout:!1,delay:0},(function(){e.rightPos=t}))}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.showShow?i("div",{ref:"root",staticClass:["mask"],style:e.videoStyle},[i("scroller",{staticStyle:{position:"absolute",top:"0px",left:"0px",bottom:"0px",right:"0px",padding:"16px",backgroundColor:"white"}},[i("text",{style:{fontSize:e.miniRate<1?"32px":"36px",padding:e.scaleSize(16)}},[e._v(e._s(e.title))]),i("div",{staticClass:["render-views"]},e._l(e.uuids,(function(t){return i("div",{staticClass:["grid-item"],style:{width:e.scaleSize(350),height:e.scaleSize(350)}},[i("div",{staticClass:["local","hidden"],style:{width:e.scaleSize(320),height:e.scaleSize(320),marginTop:e.scaleSize(15),marginLeft:e.scaleSize(15),borderRadius:"16px"}},[i("eeuiAgoro-com",{ref:"local",refInFor:!0,staticClass:["local"],style:{width:e.scaleSize(320),height:e.scaleSize(320),borderRadius:"16px"},attrs:{uuid:t.uuid},on:{load:e.load}})],1),0==t.videoStatus?i("image",{style:{position:"absolute",top:e.scaleSize(6),left:e.scaleSize(6),right:e.scaleSize(6),bottom:e.scaleSize(6),borderRadius:"16px",flexDirection:"row",backgroundColor:"white"},attrs:{src:t.avatar}}):e._e(),i("div",{style:{position:"absolute",top:e.scaleSize(16),right:e.scaleSize(10),flexDirection:"row"}},[t.video?e._e():i("image",{style:{width:e.scaleSize(40),height:e.scaleSize(40),marginRight:e.scaleSize(12)},attrs:{src:"root://pages/assets/images/meeting_video_err.png"}}),t.audio?e._e():i("image",{style:{width:e.scaleSize(40),height:e.scaleSize(40),marginRight:e.scaleSize(12)},attrs:{src:"root://pages/assets/images/meeting_audio_err.png"}})]),i("div",{style:{position:"absolute",bottom:"0px",right:"0px",width:e.scaleSize(80),height:e.scaleSize(80),borderRadius:e.scaleSize(40),backgroundColor:"white",overflow:"hidden"}},[i("image",{style:{width:e.scaleSize(70),height:e.scaleSize(70),marginTop:e.scaleSize(5),marginLeft:e.scaleSize(5),borderRadius:e.scaleSize(35),backgroundColor:"greenyellow"},attrs:{src:t.avatar}})]),i("div",{staticClass:["status-indicator"],style:{width:e.scaleSize(20),height:e.scaleSize(20),borderRadius:e.scaleSize(10),bottom:e.scaleSize(6),right:e.scaleSize(6)}},[i("div",{staticClass:["sub-status-indicator"],style:e.getStatus(t.audioStatus,t.videoStatus)})])])})))]),i("div",{staticStyle:{position:"absolute",flexDirection:"row",bottom:"0px",right:"0px",left:"0px"}},[e.miniRate<1?i("div",{staticStyle:{flex:"1"}}):e._e(),i("div",{staticStyle:{flexDirection:"row",justifyContent:"space-between"},style:{marginLeft:e.scaleSize(16),marginRight:e.scaleSize(18)}},[i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.videoEnable}},[i("image",{style:e.buttonSize,attrs:{src:e.video?"root://pages/assets/images/meeting_video_on.png":"root://pages/assets/images/meeting_video_off.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.audioEnable}},[i("image",{style:e.buttonSize,attrs:{src:e.audio?"root://pages/assets/images/meeting_audio_on.png":"root://pages/assets/images/meeting_audio_off.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.switchClicked}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_camera_reverse.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.invent}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_invent.png"}})]),i("div",{staticClass:["button"],style:e.buttonPadding,on:{click:e.hideClicked}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_mini.png"}})]),i("div",{staticClass:["exit"],style:e.buttonPadding,on:{click:e.exitClick}},[i("image",{style:e.buttonSize,attrs:{src:"root://pages/assets/images/meeting_exit.png"}})])])]),e.mini?i("div",{staticStyle:{flexDirection:"row",position:"absolute",justifyContent:"right",backgroundColor:"white",borderColor:"#D9E2E9",borderWidth:"2px",top:"-4px",left:"-4px",right:"-4px",bottom:"-4px",overflow:"hidden"},on:{click:function(t){e.zoomClick(!1)},touchstart:e.touchstart,touchmove:e.touchAction,touchend:e.touchend}},[i("div",{staticStyle:{alignSelf:"center",marginLeft:"22px"},style:{padding:e.scaleSize(12),marginLeft:e.scaleSize(22)}},[i("image",{style:{width:e.scaleSize(40),height:e.scaleSize(40)},attrs:{src:e.video?"root://pages/assets/images/meeting_black_video_on.png":"root://pages/assets/images/meeting_black_video_off.png"}})]),i("div",{staticStyle:{padding:"12px",alignSelf:"center",marginLeft:"4px"}},[i("image",{style:{width:e.scaleSize(40),height:e.scaleSize(40)},attrs:{src:e.audio?"root://pages/assets/images/meeting_black_audio_on.png":"root://pages/assets/images/meeting_black_audio_off.png"}})])]):e._e(),i("custom-alert",{ref:"alert",attrs:{miniRate:e.miniRate,pos:"top",offset:150},on:{exitConfirm:e.exitAction}})],1):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},function(e,t,i){var s,o,n=[];n.push(i(4)),s=i(5);var a=i(6);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/compoment/meetings.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-41e78e26",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s},,,function(e,t,i){var s,o,n=[];n.push(i(11)),s=i(12);var a=i(13);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(e){return"default"!==e&&"__esModule"!==e}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/index.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-57509004",o.style=o.style||{},n.forEach((function(e){for(var t in e)o.style[t]=e[t]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),e.exports=s,e.exports.el="true",new Vue(e.exports)},function(e,t){e.exports={flex:{flex:1}}},function(e,t,i){"use strict";i.r(t);var s=i(7),o=i.n(s),n=app.requireModule("eeui"),a=app.requireModule("eeuiDeviceInfo"),r=app.requireModule("eeuiUmengPush"),u=app.requireModule("eeuiCommunication"),c=app.requireModule("eeuiNotifications"),l=app.requireModule("eeuiPicture"),d=app.requireModule("eeuiShareFiles");t.default={components:{Meetings:o.a},data:function(){return{uniqueId:"",resumeNum:0,umengInit:!1,umengMessage:{},umengError:!1,appGroupID:"group.im.dootask",appSubPath:"share"}},pageResume:function(){var e='if (typeof window.__onPageResume === "function"){window.__onPageResume('.concat(this.resumeNum,")}");this.$refs.web.setJavaScript(e),this.resumeNum++,this.refreshNotificationPermission(),this.umengError&&this.updateUmengAlias()},pagePause:function(){this.$refs.web.setJavaScript('if (typeof window.__onPagePause === "function"){window.__onPagePause()}')},pageMessage:function(e){var t=e.message;switch(t.messageType){case"notificationClick":break;case"keyboardStatus":var i=encodeURIComponent(this.jsonStringify(t)),s='if (typeof window.__onKeyboardStatus === "function"){window.__onKeyboardStatus("'.concat(i,'")}');this.$refs.web.setJavaScript(s)}},mounted:function(){"ios"===WXEnvironment.platform.toLowerCase()&&d.shareFileWithGroupID(this.appGroupID,this.appSubPath),this.uniqueId=n.getCachesString("appUniqueId",""),this.count(this.uniqueId)<5&&(this.uniqueId=this.randomString(6),n.setCachesString("appUniqueId",this.uniqueId,0)),n.setStatusBarStyle(!1),this.$refs.web.setUrl(n.rewriteUrl("../public/index.html"))},computed:{},methods:{time:function(){return Math.round((new Date).getTime()/1e3)},onReceiveMessage:function(e){var t=e.message;switch(t.action){case"intiUmeng":this.umengInit||(this.umengInit=!0,r.initialize());break;case"setUmengAlias":this.umengMessage=t,this.updateUmengAlias();break;case"setVibrate":var i=this.runNum(t.time);i>0?a.setVibrate(i):a.setVibrate();break;case"getNotificationPermission":this.refreshNotificationPermission();break;case"setBdageNotify":c.setBadge(this.runNum(t.bdage));break;case"gotoSetting":c.gotoSet();break;case"callTel":u.call(t.tel);break;case"picturePreview":l.picturePreview(t.position,t.paths);break;case"videoPreview":l.videoPreview(t.path);break;case"userChatList":"ios"===WXEnvironment.platform.toLowerCase()?d.setShareStorage("chatList",t.url):n.setCaches("chatList",t.url,0);break;case"userUploadUrl":"ios"===WXEnvironment.platform.toLowerCase()?(d.setShareStorage("upLoadUrl",t.chatUrl),d.setShareStorage("fileUpLoadUrl",t.dirUrl)):(n.setCaches("upLoadUrl",t.chatUrl,0),n.setCaches("fileUpLoadUrl",t.dirUrl,0));break;case"startMeeting":this.$refs.meeting&&this.$refs.meeting.joint(t.meetingParams);break;case"updateMeetingInfo":this.$refs.meeting&&this.$refs.meeting.updateMeetingInfo(t.infos)}},onStateChanged:function(e){var t=e.status,i=e.url;switch(t){case"createTarget":n.openPage({pageType:"app",pageTitle:" ",url:"web.js",params:{url:i,browser:!0,showProgress:!0}},(function(e){}))}},updateUmengAlias:function(){var e=this,t="".concat(WXEnvironment.platform,"-").concat(this.umengMessage.userid,"-").concat(this.uniqueId);eeuiLog.log("[UmengAlias] delete: "+t),r.deleteAlias(t,"userid",(function(i){eeuiLog.log("[UmengAlias] delete result: "+JSON.stringify(i)),eeuiLog.log("[UmengAlias] add: "+t),r.addAlias(t,"userid",(function(i){eeuiLog.log("[UmengAlias] add result: "+JSON.stringify(i)),"success"===i.status?(eeuiLog.log("[UmengAlias] add success"),n.ajax({url:e.umengMessage.url,method:"get",data:{alias:t},headers:{token:e.umengMessage.token}},(function(e){eeuiLog.log(e)}))):eeuiLog.log("[UmengAlias] add error"),e.umengError="success"!==i.status}))}))},refreshNotificationPermission:function(){var e=this;c.getPermissionStatus((function(t){var i='if (typeof window.__onPagePause === "function"){window.__onNotificationPermissionStatus('.concat(t,")}");e.$refs.web.setJavaScript(i)}))},meetingEvent:function(e){if("invent"!=e.act){var t='if (typeof window.__onMeetingEvent === "function"){window.__onMeetingEvent({"uuid":"'.concat(e.uuid,'","act":"').concat(e.act,'"})}');this.$refs.web.setJavaScript(t)}else this.inventEvent(e)},inventEvent:function(e){var t='if (typeof window.__onMeetingEvent === "function"){window.__onMeetingEvent({"meetingid":"'.concat(e.meetingid,'","act":"').concat(e.act,'"})}');this.$refs.web.setJavaScript(t)}}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:["flex"]},[t("web-view",{ref:"web",staticClass:["flex"],attrs:{hiddenDone:!0,progressbarVisibility:!1,allowFileAccessFromFileURLs:!0},on:{receiveMessage:this.onReceiveMessage,stateChanged:this.onStateChanged}}),t("meetings",{ref:"meeting",on:{meetingEvent:this.meetingEvent}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}]);