// { "framework": "Vue"} 
if("undefined"==typeof app&&(app=weex),void 0===eeuiLog)var eeuiLog={_:function(t,e){var i=e.map((function(t){return"[object object]"===Object.prototype.toString.call(t).toLowerCase()?JSON.stringify(t):t}));void 0===this.__m&&(this.__m=app.requireModule("debug")),this.__m.addLog(t,i)},debug:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._("debug",t)},log:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._("log",t)},info:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._("info",t)},warn:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._("warn",t)},error:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this._("error",t)}};!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e){t.exports={"g-cover":{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)"},container:{backgroundColor:"#FFFFFF",borderRadius:"16",alignSelf:"center"},confirmTitle:{paddingTop:"16",paddingRight:"32",paddingBottom:"16",paddingLeft:"32",backgroundColor:"#84c56a",borderRadius:"8"}}},function(t,e,i){"use strict";i.r(e),e.default={props:{pos:{type:String,default:"center"},offset:{type:Number,default:0},canOverlayClick:{type:Boolean,default:!0},miniRate:{default:1}},data:function(){return{back:!1,show:!1,title:"",message:"",cancel:"",confirm:""}},computed:{posStyle:function(){var t={},e=this.pos?this.pos:"center";switch(t.position="absolute",t.width=this.scaleSize(718),t.padding=this.scaleSize(48),t.marginLeft=this.scaleSize(16),e){case"center":t.alignSelf="center";break;case"bottom":t.bottom=this.offset+"px";case"top":t.top=this.offset+"px"}return t},gStyle:function(){var t={},e=this.pos?this.pos:"center";switch(t.width=this.scaleSize(718),e){case"center":t.justifyContent="center"}return t}},mounted:function(){this.show=!1},methods:{scaleSize:function(t){return this.miniRate*t+"px"},hide:function(){this.show=!1},cancelClick:function(){this.hide()},confirmClick:function(){this.hide(),this.$emit("exitConfirm")},showWithParam:function(t){this.title=t.title,this.message=t.message,this.cancel=t.cancel,this.confirm=t.confirm,this.show=!0}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:["g-cover"],on:{overlay:t.cancelClick}},[i("div",{staticClass:["container","flex-d-c"],style:t.posStyle},[i("div",{staticStyle:{flexDirection:"row"}},[i("image",{style:{width:t.scaleSize(50),height:t.scaleSize(50)},attrs:{src:"root://pages/assets/images/alert-icon.png"}}),i("div",{style:{justifyContent:"left",marginLeft:t.scaleSize(32)}},[i("text",{staticStyle:{fontWeight:"300",color:"black"},style:{fontSize:t.scaleSize(30),marginTop:t.scaleSize(4)}},[t._v(t._s(t.title))]),i("text",{staticStyle:{fontSize:"26px",fontWeight:"300",color:"black"},style:{fontSize:t.scaleSize(26),marginTop:t.scaleSize(32)}},[t._v(t._s(t.message))])])]),i("div",{staticStyle:{flexDirection:"row"}},[i("div",{staticStyle:{flex:"1"}}),i("div",{staticStyle:{flexDirection:"row",justifyContent:"space-between"},style:{marginTop:t.scaleSize(64)}},[i("div",{staticClass:["cancelTitle"],staticStyle:{justifyContent:"center"},style:{marginRight:t.scaleSize(64)},on:{click:t.cancelClick}},[i("text",{staticStyle:{fontWeight:"300",color:"black"},style:{fontSize:t.scaleSize(26)}},[t._v(t._s(t.cancel))])]),i("div",{staticClass:["confirmTitle"],style:{paddingLeft:t.scaleSize(32),paddingRight:t.scaleSize(32),paddingTop:t.scaleSize(12),paddingBottom:t.scaleSize(12)},on:{click:t.confirmClick}},[i("text",{staticStyle:{fontWeight:"300",color:"white"},style:{fontSize:t.scaleSize(26)}},[t._v(t._s(t.confirm))])])])])])]):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,i){var s,o,n=[];n.push(i(0)),s=i(1);var a=i(2);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(t){return"default"!==t&&"__esModule"!==t}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/compoment/customAlert.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-07ed30b4",o.style=o.style||{},n.forEach((function(t){for(var e in t)o.style[e]=t[e]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),t.exports=s},function(t,e){t.exports={mask:{position:"fixed",overflow:"hidden",backgroundColor:"#FFFFFF"},"render-views":{flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},"grid-item":{alignItems:"center"},"status-indicator":{position:"absolute",backgroundColor:"#FFFFFF"},"sub-status-indicator":{width:"16",height:"16",borderRadius:"8",marginTop:"2",marginLeft:"2"},local:{overflow:"hidden",backgroundColor:"#D3D3D3"},hidden:{marginTop:"15",marginLeft:"15",overflow:"hidden"},button:{backgroundColor:"rgb(20,172,78)",borderRadius:"8"},exit:{backgroundColor:"#f28500",borderRadius:"8"},switch:{marginTop:"850",marginLeft:"-420"},silence:{marginTop:"850",marginLeft:"0"},loudly:{marginTop:"850",marginLeft:"320"},shut:{marginLeft:"420"},hide:{marginTop:"1100",marginLeft:"100"},content:{fontSize:"40",color:"#808080"}}},function(t,e,i){"use strict";i.r(e);var s=i(3),o=i.n(s),n=app.requireModule("eeuiAgoro"),a=(app.requireModule("eeui"),app.requireModule("animation")),r=app.requireModule("eeuiDeviceInfo");e.default={name:"meetings",components:{CustomAlert:o.a},data:function(){return{title:"",uuids:[],uuid:0,meetingid:0,mini:!1,showShow:!1,video:!1,audio:!1,infos:[],screenH:WXEnvironment.deviceHeight/WXEnvironment.deviceWidth*750,screenW:750,bottomPos:100,rightPos:0,isTouch:!1,startPosX:0,startPosY:0,bottomShow:!0,bottomColor:"white",alertParams:{title:"",message:"",cancel:"",confirm:""},miniRate:1,exitAlert:!1,isAndroid:!1}},computed:{videoStyle:function(){var t={};return this.mini?(t.width=this.scaleSize(182),t.height=this.scaleSize(80),t.right=this.rightPos+"px",t.bottom=this.bottomPos+"px",t.borderRadius=this.scaleSize(8),t.borderWidth="1px",t.borderColor="#D9E2E9"):(t.top="0px",t.bottom="0px",t.right="0px",t.left="0px"),t},styleChange:function(t){return t},buttonPadding:function(){return{marginLeft:this.scaleSize(15),paddingTop:this.scaleSize(12),paddingBottom:this.scaleSize(12),paddingLeft:this.scaleSize(32),paddingRight:this.scaleSize(32)}},buttonSize:function(){return{width:this.scaleSize(40),height:this.scaleSize(40)}}},mounted:function(){eeuiLog.info(WXEnvironment.deviceHeight),eeuiLog.info(this.screenH),this.isAndroid="android"==WXEnvironment.platform.toLowerCase();var t=WXEnvironment.deviceHeight,e=WXEnvironment.deviceWidth,i=e/750;if(e>t){var s=t/750;this.screenW=e/s}eeuiLog.info(i);var o=1.92/i;o<1&&(this.miniRate=o),eeuiLog.info(o)},methods:{scaleSize:function(t){return this.miniRate*t+"px"},initAgoro:function(t){var e=this;n.initialWithParam({id:t},(function(t){var i=t.uuid;if("joint"==t.action){for(var s=!0,o="",n=0;n<e.uuids.length;n++){e.uuids[n].uuid==i&&(s=!1)}e.infos.map((function(t){return t.uuid==e.uuids&&(o=t.avatar),t})),1==s&&(e.uuids.push({uuid:i,audio:!1,video:!1,videoStatus:0,audioStatus:0,avatar:o}),e.uuid!==i&&e.infoParam(i))}else"leave"==t.action&&(e.uuids=e.uuids.filter((function(t){return t.uuid!=i})))})),n.statusCallback((function(t){if(eeuiLog.info("statsParam:",t),"me"===t.uuid)"video"===t.type?(e.uuids[0]&&(e.uuids[0].video=1==t.status||2==t.status||3==t.status),e.uuids[0]&&(e.uuids[0].videoStatus=t.status)):(e.uuids[0]&&(e.uuids[0].audio=1==t.status||2==t.status||3==t.status),e.uuids[0]&&(e.uuids[0].audioStatus=t.status));else{var i=t.uuid;e.uuids=e.uuids.map((function(e){return e.uuid==i?"video"===t.type?(e.videoStatus=t.status,e.video=1==t.status||2==t.status||3==t.status,e):(e.audioStatus=t.status,e.audio=1==t.status||2==t.status||3==t.status,e):e}))}})),n.localStatusCallback((function(t){-1==t?(e.destroyed(),e.uuids=[]):5==t&&e.errorParam(e.uuid)}))},destroyed:function(){n.destroy(),r.keepScreenOn(!1),this.showShow=!1,this.infos=[],this.uuids=[],this.title="";var t={act:"endMeeting",uuid:this.uuid+""};this.callbackParam(t)},exitAction:function(){n.leaveChannel(),this.showShow=!1},joint:function(t){var e=this;eeuiLog.info("joint:"),eeuiLog.info(t);var i=t.appid;this.initAgoro(i),this.video=t.video,this.audio=t.audio,setTimeout((function(){n.jointChanel(t,(function(i){e.uuid=i.uuid,e.meetingid=t.meetingid,e.title=t.name,e.alertParams=t.alert;e.infos.map((function(t){return t.uuid==e.uuid&&t.avatar,t})),e.uuids.push({uuid:e.uuid,audio:t.audio,video:t.video,videoStatus:0,audioStatus:0,avatar:t.avatar}),eeuiLog.info("afterjoint:"),eeuiLog.info(e.uuids),e.showShow=!0,e.mini=!1,r.keepScreenOn(!0),e.$nextTick((function(){e.successParam(e.uuid)})),t.video||n.enableVideo(t.video),n.enableAudio(t.audio)}))}),500)},zoomClick:function(){var t=this;!0!==this.isTouch&&(this.mini=!1,this.bottomShow=!1,this.$nextTick((function(){t.bottomShow=!0})))},miniClick:function(){this.mini=!0,this.bottomPos<0&&(this.bottomPos=100),this.rightPos<0&&(this.rightPos=0)},videoEnable:function(){this.video=!this.video,n.enableVideo(this.video)},audioEnable:function(){this.audio=!this.audio,n.enableAudio(this.audio)},invent:function(){this.mini=!0;var t={act:"invent",meetingid:this.meetingid+""};this.callbackParam(t)},infoParam:function(t){var e={act:"getInfo",uuid:t+""};this.callbackParam(e)},successParam:function(t){var e={act:"success",uuid:t+""};this.callbackParam(e)},errorParam:function(t){var e={act:"error",uuid:t+""};this.callbackParam(e)},callbackParam:function(t){this.$emit("meetingEvent",t)},switchClicked:function(){n.switchCamera()},silenceClicked:function(t){},remoteSlicent:function(t){n.muteRemoteAudioStream(t.uuids,!t.mute)},remoteVideo:function(t){n.muteRemoteVideoStream(t.uuids,!t.mute)},loudlyClicked:function(){},shutClicked:function(){n.leaveChannel()},hideClicked:function(){this.miniClick()},exitClick:function(){this.$refs.alert.showWithParam(this.alertParams)},load:function(t){var e=this,i=t.target.attr.uuid;i!==this.uuid?n.blindRemote(i):this.$nextTick((function(){n.blindLocal(e.uuid)}))},getStatus:function(t,e){var i={};return i.width=this.scaleSize(16),i.height=this.scaleSize(16),i.borderRadius=this.scaleSize(8),i.marginTop=this.scaleSize(2),i.marginLeft=this.scaleSize(2),i.backgroundColor=t>2||e>2?"#f28500":"#00ff00",i},updateMeetingInfo:function(t){this.infos.push(t),this.updateUidInfo()},updateUidInfo:function(){var t=this;0!=this.infos.length&&(this.uuids=this.uuids.map((function(e){for(var i=0;i<t.infos.length;i++){var s=t.infos[i];s.uuid==e.uuid&&(e.username=s.username,e.avatar=s.avatar)}return e})))},touchstart:function(t){this.isTouch=!0,1==this.mini&&(this.startPosX=this.screenW-t.changedTouches[0].screenX-this.rightPos,this.startPosY=this.screenH-t.changedTouches[0].screenY-this.bottomPos)},touchAction:function(t){1==this.mini&&(this.isTouch=!0,this.rightPos=this.screenW-t.changedTouches[0].screenX-this.startPosX,this.bottomPos=this.screenH-t.changedTouches[0].screenY-this.startPosY)},touchend:function(){this.isTouch=!1,1==this.mini&&(this.startPosX=0,this.startPosY=0,this.stickyMoving())},stickyMoving:function(){var t=this,e=0,i=284;this.miniRate<1&&(i+=(this.screenW-750)/2);this.rightPos>i&&(e=this.screenW-182*this.miniRate),eeuiLog.info(this.screenW),a.transition(this.$refs.root,{styles:{translateX:e+"px"},duration:400,timingFunction:"linear",needLayout:!1,delay:0},(function(){t.rightPos=e}))}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showShow?i("div",{ref:"root",staticClass:["mask"],style:t.videoStyle},[i("scroller",{staticStyle:{position:"absolute",top:"0px",left:"0px",bottom:"0px",right:"0px",padding:"16px",backgroundColor:"white"}},[i("text",{style:{fontSize:t.miniRate<1?"32px":"36px",padding:t.scaleSize(16)}},[t._v(t._s(t.title))]),i("div",{staticClass:["render-views"]},t._l(t.uuids,(function(e){return i("div",{staticClass:["grid-item"],style:{width:t.scaleSize(350),height:t.scaleSize(350)}},[i("div",{staticClass:["local","hidden"],style:{width:t.scaleSize(320),height:t.scaleSize(320),marginTop:t.scaleSize(15),marginLeft:t.scaleSize(15),borderRadius:"16px"}},[i("eeuiAgoro-com",{ref:"local",refInFor:!0,staticClass:["local"],style:{width:t.scaleSize(320),height:t.scaleSize(320),borderRadius:"16px"},attrs:{uuid:e.uuid},on:{load:t.load}})],1),0==e.videoStatus?i("image",{style:{position:"absolute",top:t.scaleSize(6),left:t.scaleSize(6),right:t.scaleSize(6),bottom:t.scaleSize(6),borderRadius:"16px",flexDirection:"row",backgroundColor:"white"},attrs:{src:e.avatar}}):t._e(),i("div",{style:{position:"absolute",top:t.scaleSize(16),right:t.scaleSize(10),flexDirection:"row"}},[e.video?t._e():i("image",{style:{width:t.scaleSize(40),height:t.scaleSize(40),marginRight:t.scaleSize(12)},attrs:{src:"root://pages/assets/images/meeting_video_err.png"}}),e.audio?t._e():i("image",{style:{width:t.scaleSize(40),height:t.scaleSize(40),marginRight:t.scaleSize(12)},attrs:{src:"root://pages/assets/images/meeting_audio_err.png"}})]),i("div",{style:{position:"absolute",bottom:"0px",right:"0px",width:t.scaleSize(80),height:t.scaleSize(80),borderRadius:t.scaleSize(40),backgroundColor:"white",overflow:"hidden"}},[i("image",{style:{width:t.scaleSize(70),height:t.scaleSize(70),marginTop:t.scaleSize(5),marginLeft:t.scaleSize(5),borderRadius:t.scaleSize(35),backgroundColor:"greenyellow"},attrs:{src:e.avatar}})]),i("div",{staticClass:["status-indicator"],style:{width:t.scaleSize(20),height:t.scaleSize(20),borderRadius:t.scaleSize(10),bottom:t.scaleSize(6),right:t.scaleSize(6)}},[i("div",{staticClass:["sub-status-indicator"],style:t.getStatus(e.audioStatus,e.videoStatus)})])])})))]),i("div",{staticStyle:{position:"absolute",flexDirection:"row",bottom:"0px",right:"0px",left:"0px"}},[t.miniRate<1?i("div",{staticStyle:{flex:"1"}}):t._e(),i("div",{staticStyle:{flexDirection:"row",justifyContent:"space-between"},style:{marginLeft:t.scaleSize(16),marginRight:t.scaleSize(18)}},[i("div",{staticClass:["button"],style:t.buttonPadding,on:{click:t.videoEnable}},[i("image",{style:t.buttonSize,attrs:{src:t.video?"root://pages/assets/images/meeting_video_on.png":"root://pages/assets/images/meeting_video_off.png"}})]),i("div",{staticClass:["button"],style:t.buttonPadding,on:{click:t.audioEnable}},[i("image",{style:t.buttonSize,attrs:{src:t.audio?"root://pages/assets/images/meeting_audio_on.png":"root://pages/assets/images/meeting_audio_off.png"}})]),i("div",{staticClass:["button"],style:t.buttonPadding,on:{click:t.switchClicked}},[i("image",{style:t.buttonSize,attrs:{src:"root://pages/assets/images/meeting_camera_reverse.png"}})]),i("div",{staticClass:["button"],style:t.buttonPadding,on:{click:t.invent}},[i("image",{style:t.buttonSize,attrs:{src:"root://pages/assets/images/meeting_invent.png"}})]),i("div",{staticClass:["button"],style:t.buttonPadding,on:{click:t.hideClicked}},[i("image",{style:t.buttonSize,attrs:{src:"root://pages/assets/images/meeting_mini.png"}})]),i("div",{staticClass:["exit"],style:t.buttonPadding,on:{click:t.exitClick}},[i("image",{style:t.buttonSize,attrs:{src:"root://pages/assets/images/meeting_exit.png"}})])])]),t.mini?i("div",{staticStyle:{flexDirection:"row",position:"absolute",justifyContent:"right",backgroundColor:"white",borderColor:"#D9E2E9",borderWidth:"2px",top:"-4px",left:"-4px",right:"-4px",bottom:"-4px",overflow:"hidden"},on:{click:function(e){t.zoomClick(!1)},touchstart:t.touchstart,touchmove:t.touchAction,touchend:t.touchend}},[i("div",{staticStyle:{alignSelf:"center",marginLeft:"22px"},style:{padding:t.scaleSize(12),marginLeft:t.scaleSize(22)}},[i("image",{style:{width:t.scaleSize(40),height:t.scaleSize(40)},attrs:{src:t.video?"root://pages/assets/images/meeting_black_video_on.png":"root://pages/assets/images/meeting_black_video_off.png"}})]),i("div",{staticStyle:{padding:"12px",alignSelf:"center",marginLeft:"4px"}},[i("image",{style:{width:t.scaleSize(40),height:t.scaleSize(40)},attrs:{src:t.audio?"root://pages/assets/images/meeting_black_audio_on.png":"root://pages/assets/images/meeting_black_audio_off.png"}})])]):t._e(),i("custom-alert",{ref:"alert",attrs:{miniRate:t.miniRate,pos:"top",offset:150},on:{exitConfirm:t.exitAction}})],1):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},,,function(t,e,i){var s,o,n=[];n.push(i(4)),s=i(5);var a=i(6);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(Object.keys(s).some((function(t){return"default"!==t&&"__esModule"!==t}))&&console.error("named exports are not supported in *.vue files."),o=s=s.default),"function"==typeof o&&(o=o.options),o.__file="/Users/WEIYI/wwwroot/dootask/resources/mobile/src/pages/compoment/meetings.vue",o.render=a.render,o.staticRenderFns=a.staticRenderFns,o._scopeId="data-v-41e78e26",o.style=o.style||{},n.forEach((function(t){for(var e in t)o.style[e]=t[e]})),"function"==typeof __register_static_styles__&&__register_static_styles__(o._scopeId,n),t.exports=s,t.exports.el="true",new Vue(t.exports)}]);